% Chapter 01
\cleardoublepage

\chapter{代数的起源}

\section{简谈代数}

\section{几个典型问题}

\section{线性方程初步}

\section{低阶行列式}

\problem{2}
\begin{quotation}
    证明在三阶行列式展开式中的六项不可能同时为正.
\end{quotation}

\begin{proof}

展开式中的六项的乘积为
\begin{equation}\label{eq:ch01:sec04:prob02}
\begin{aligned}
    \Gamma &= a_{11}a_{22}a_{33}\cdot{}a_{12}a_{23}a_{31}\cdot{a_{13}}a_{21}a_{32}
    \cdot(-a_{11}a_{23}a_{32})\cdot(-a_{12}a_{21}a_{33})\cdot(-a_{13}a_{22}a_{31}) \\
    &= -(a_{11}a_{12}a_{13}a_{21}a_{22}a_{23}a_{31}a_{32}a_{33})^2 \le 0
\end{aligned}
\end{equation}

若这六项同时为正，则应有
\begin{equation}
    \Gamma > 0
\end{equation}

与\abref{eq:ch01:sec04:prob02} 矛盾.

故在三阶行列式展开式中的六项不可能同时为正.

\end{proof}

\problem{3}
\begin{quotation}
验证
\[
\begin{vmatrix}
    a_{11} & a_{12} & a_{13} \\
    a_{21} & a_{22} & a_{23} \\
    a_{31} & a_{32} & a_{33}
\end{vmatrix}
=
\begin{vmatrix}
    a_{11} & a_{21} & a_{31} \\
    a_{12} & a_{22} & a_{32} \\
    a_{13} & a_{23} & a_{33}
\end{vmatrix}
, \quad
\begin{vmatrix}
    0 & a & b \\
    -a & 0 & c \\
    -b & -c & 0
\end{vmatrix}
= 0.
\]
\end{quotation}

\begin{lemma}\label{lem:ch01:sec04:lem1}
    \[
        \begin{vmatrix}
            a & b \\ c & d
        \end{vmatrix}
        =
        \begin{vmatrix}
            a & c \\ b & d
        \end{vmatrix}
    \]
\end{lemma}
\lemmaref{lem:ch01:sec04:lem1} 可由定义直接导出.

\begin{lemma}\label{lem:ch01:sec04:2}
\[
    -a\begin{vmatrix} c & d \\ e & f \end{vmatrix}
    +b\begin{vmatrix} c & d \\ g & h \end{vmatrix}
    =
    -c\abdet{a & b \\ h & f}
    +d\abdet{a & b \\ g & e}
\]
\end{lemma}
\begin{proof}
\[
\begin{aligned}
    -a\abdet{c & d \\ e & f} + b\abdet{c & d \\ g & h}
    &= -a(cf - de) + b(ch - dg) \\
    &= -c(af - bh) + d(ae - bg) \\
    &= -c\abdet{a & b \\ h & f}+d\abdet{a & b \\ g & e}
\end{aligned}
\]
\end{proof}

\paragraph{第一个式子}

\begin{equation}
\begin{aligned}
    D_1 &= \abdet{a_{11} & a_{12} & a_{13} \\ a_{21} & a_{22} & a_{23} \\ a_{31} & a_{32} & a_{33}} \\
    &= a_{11}\abdet{a_{22} & a_{23} \\ a_{32} & a_{33}}
      -a_{21}\abdet{a_{12} & a_{13} \\ a_{32} & a_{33}}
      +a_{31}\abdet{a_{12} & a_{13} \\ a_{22} & a_{23}}
\end{aligned} 
\end{equation}

由\lemmaref{lem:ch01:sec04:lem1} 可知
\begin{equation}
    a_{11}\abdet{a_{22} & a_{23} \\ a_{32} & a_{33}}
    =
    a_{11}\abdet{a_{22} & a_{32} \\ a_{23} & a_{33}}
\end{equation}

由\lemmaref{lem:ch01:sec04:2} 得
\begin{equation}
    -a_{21}\abdet{a_{12} & a_{13} \\ a_{32} & a_{33}}
    +a_{31}\abdet{a_{12} & a_{13} \\ a_{22} & a_{23}}
    =
    -a_{12}\abdet{a_{21} & a_{31} \\ a_{23} & a_{33}}
    +a_{13}\abdet{a_{21} & a_{31} \\ a_{22} & a_{32}}
\end{equation}

于是
\begin{equation}
\begin{aligned}
    D_1 &= a_{11}\abdet{a_{22} & a_{32} \\ a_{23} & a_{33}}
    -a_{12}\abdet{a_{21} & a_{31} \\ a_{23} & a_{33}}
    +a_{13}\abdet{a_{21} & a_{31} \\ a_{22} & a_{32}} \\
    &= \abdet{
        a_{11} & a_{21} & a_{31} \\
        a_{12} & a_{22} & a_{32} \\
        a_{13} & a_{23} & a_{33}
    }
\end{aligned}
\end{equation}
第一个式子验证完毕.

\paragraph{第二个式子} % (fold)

\begin{equation}
\begin{aligned}
\abdet{
    0 & a & b \\
    -a & 0 & c \\
    -b & -c & 0
} &= 0\abdet{0 & c \\ -c & 0}
    -(-a)\abdet{a & b \\ -c & 0}
    +(-b)\abdet{a & b \\ 0 & c} \\
  &= abc - bac = 0
\end{aligned}
\end{equation}

验证完毕.

% paragraph 第二个式子 (end)

\section{集合与映射} % (begin)

\begin{lemma}\label{lem:ch01:sec05:1}
    设
    \[
        f: X \to Y, \qquad g: Y \to X
    \]
    是任意两个映射，如果 $gf = e_X$，则 $f$ 是单的，$g$ 是满的.
\end{lemma}

\problem{1}
\begin{quotation}
    设 $\Omega = \{+,-,++,+-,-+,--,+++,\cdots\}$ 是加号和减号的有限序列的集合，
    而 $f: \Omega \to \Omega$ 是一个变换，将元素
    $\omega = \omega_1\omega_2\cdots\omega_n\in\Omega$
    对应到
    $\omega' = \omega_1\dot{\omega}_1\omega_2\dot{\omega}_2\cdots\omega_n\dot{\omega}_n$，
    其中若 $\omega_k=+$，则 $\dot{\omega}_k=-$，
    若 $\omega_k=-$，则 $\dot{\omega}_k=+$.
    证明在 $f(f\omega)$ 的长度 $>4$ 的任意区间内包含 $++$ 或 $--$.
\end{quotation}

\begin{proof}
    设
    \begin{equation}
        f(f\omega) = \omega_0\omega_1\omega_2\cdots\omega_n
    \end{equation}

    由定义易知，
    \begin{equation}
        \forall k \ge 0, \omega_{4k+1} = \omega_{4k+2}
    \end{equation}

    对于任意长度 $>4$ 的区间，一定包含连续的两项形如 $\omega_{4k+1}\omega_{4k+2}$.

    即一定包含相等的连续两项.
\end{proof}

\problem{2}
\begin{quotation}
    由法则 $n \to n^2$ 给出的映射 $f: \setN \to \setN$ 有右逆吗？
    给出 $f$ 的两个左逆.
\end{quotation}

假设 $f$ 有右逆 $g$，即
\begin{equation}
    fg = e_\setN
\end{equation}
由\lemmaref{lem:ch01:sec05:1} 得，$f$ 是满的，
与题设矛盾.
故 $f$ 不存在右逆.

给出两个左逆如下
\begin{equation}
    h_1(n) = \begin{cases}
        \sqrt{n}, & n \text{ 是完全平方数}; \\
        1, & \text{otherwise}.
    \end{cases}
\end{equation}
\begin{equation}
    h_2(n) = \begin{cases}
        \sqrt{n}, & n \text{ 是完全平方数}; \\
        2, & \text{otherwise}.
    \end{cases}
\end{equation}

\problem{3}
\begin{quotation}
    设 $f: X \to Y$ 是一个映射，且 $S, T$ 都是 $X$ 的子集.

    证明
    \[
        f(S \cup T) = f(S) \cup f(T),
        \quad f(S \cap T) \subset f(S) \cap f(T).
    \]
    试举一例，说明后一个式子中的包含关系一般来说不能换成相等关系.
\end{quotation}

\paragraph{第一个式子} % (fold)
\label{par:第一个式子}
\begin{proof}
    \begin{equation}
        \forall y \in f(S \cup T),
        \exists x \in S \cup T,
        f(x) = y.
    \end{equation}
    \begin{enumerate}
        \item $x \in S$，则 $y = f(x) \in S;$
        \item $x \in T$，则 $y = f(x) \in T.$
    \end{enumerate}
    于是
    \begin{equation}
        f(S \cup T) \subset f(S) \cup f(T).
    \end{equation}

    \begin{equation}
        \forall y \in f(S) \cup f(T),
        \text{ 要么}\: y \in f(S),
        \text{ 要么}\: y \in f(T).
    \end{equation}
    \begin{enumerate}
        \item $y \in f(S)$，则 $\exists x \in S \subset S \cup T, f(x) = y$，
            于是 $y \in f(S \cup T);$
        \item $y \in f(T)$，则 $\exists x \in T \subset S \cup T, f(x) = y$，
            于是 $y \in f(S \cup T).$
    \end{enumerate}
    所以
    \begin{equation}
        f(S) \cup f(T) \subset f(S \cup T).
    \end{equation}

    综上所述
    \begin{equation}
        f(S \cup T) = f(S) \cup f(T)
    \end{equation}
\end{proof}
% paragraph 第一个式子 (end)

\paragraph{第二个式子} % (fold)
\label{par:第二个式子}
\begin{proof}
    \begin{equation}
        \forall y \in f(S \cap T),
        \exists x \in S \cap T,
        f(x) = y.
    \end{equation}

    此时 $x \in S$ 且 $x \in T$，
    所以 $f(x) \in f(S)$ 且 $f(x) \in f(T)$，
    即 $y = f(x) \in f(S) \cap f(T)$.

    故而
    \begin{equation}
        f(S \cap T) \subset f(S) \cap f(T).
    \end{equation}
\end{proof}
% paragraph 第二个式子 (end)

\paragraph{一个反例} % (fold)
\label{par:一个反例}
考虑映射 $f: n \mapsto n^2$，
以及 $\setZ$ 的子集 $S = \{-1, 0\}, T = \{0, 1\}$.

那么
\begin{equation}
    S \cap T = \{ 0 \}, \quad f(S \cap T) = \{ 0 \},
\end{equation}
同时
\begin{equation}
    f(S) = \{ 1, 0 \}, f(T) = \{ 0, 1 \},
    \quad f(S) \cap f(T) = \{ 0, 1 \}.
\end{equation}

在这种情况下，
$f(S) \cap f(T) \nsubseteq f(S \cap T)$.
所以包含关系不能换成相等关系.
% paragraph 一个反例 (end)

\problem{4} % (begin)
\begin{quotation}
    集合 $S$ 的全体子集的集合记做
    \begin{equation*}
        \mathcal{P}(S) = \{ T \vert T \subset S \}
    \end{equation*}
    假如若 $S=\{s_1,s_2,\cdots,s_n\}$ 是含有 $n$ 个元素的有限集，
    则 $\mathcal{P}(S)$ 由空集 $\varnothing,$
    $n$ 个单元集 $\{s_1\}, \{s_2\}, \cdots, \{s_n\},$
    $n(n-1)/2$ 个二元集 $\{s_i, s_j\}, 1 \le i < j \le n,$
    等等，直到全集 $T = S$ 组成.
    集合 $\mathcal{P}(S)$ 的基数是多少？
\end{quotation}

$\mathcal{P}(S)$ 的基数即为 $S$ 的不同子集的个数，
也是从 $S$ 中选取若干个元素出来的方案数.

每次选择对每个元素来说有选与不选两种可能，
于是总的方案数为 $2^n$，即
\begin{equation}
    \vert \mathcal{P}(S) \vert = 2^n.
\end{equation}
% problem 4 (end)

\problem{5} % (begin)
\begin{quotation}
    设 $f: X \to Y$ 是一个映射，
    且设对某个元素 $a \in X, b = f(a)$.
    原像
    \[
        f^{-1}(b) = f^{-1}(f(a)) = \{ x \vert f(x) = f(a) \}
    \]
    叫作元素 $b \in \mathrm{Im}f$ 上的纤维.
    证明集合 $X$ 是互不相交的纤维的并（也就是说，
    给出了 $X$ 的一个划分）.
\end{quotation}
\begin{proof}
    设任意 $b_1, b_2 \in \mathrm{Im}f$ 且 $b_1 \ne b_2$，
    则 $f^{-1}(b_1) \cap f^{-1}(b_2) = \varnothing$，
    否则将有 $b_1 = b_2$，与前述矛盾.

    下面证明
    \begin{equation*}
        X = \bigcup_{b \in \mathrm{Im}f}{f^{-1}(b)}
    \end{equation*}

    \begin{enumerate}
        \item $X \subset \bigcup_{b \in \mathrm{Im}f}{f^{-1}(b)}$:

            设任意 $x \in X$，取 $b = f(x) \in \mathrm{Im}f$，
            显然有
            \begin{equation}
                x \in f^{-1}(b) \subset \bigcup_{b \in \mathrm{Im}f}{f^{-1}(b)},
            \end{equation}
            于是 $X \subset \bigcup_{b \in \mathrm{Im}f}{f^{-1}(b)}$.

        \item $\bigcup_{b \in \mathrm{Im}f}{f^{-1}(b)} \subset X$:

            记
            \begin{equation}
                S = \bigcup_{b \in \mathrm{Im}f}{f^{-1}(b)}.
            \end{equation}

            设任意 $s \in S$，那么
            \begin{equation}
                \exists b \in \mathrm{Im}f, s \in f^{-1}(b),
            \end{equation}
            也就是
            \begin{equation}
                f(s) = b,
            \end{equation}
            所以
            \begin{equation}
                s \in X.
            \end{equation}
            故
            \begin{equation}
                S \subset X.
            \end{equation}
    \end{enumerate}

    综上所述，$X = \bigcup_{b \in \mathrm{Im}f}{f^{-1}(b)}$，
    且 $f^{-1}(b)$ 间互不相交.
\end{proof}
% problem 5 (end)

\problem{6} % (begin)
\begin{quotation}
    证明有限个可数集的笛卡尔积也是可数集.
\end{quotation}

\begin{proof}
    设集合
    \[
        X_1, X_2, X_3, \dots, X_n \quad(n \ge 2)
    \]
    都是可数集. 存在 $n$ 个双射
    \begin{equation}
        f_i: X_i \to \setN, \qquad 1 \le i \le n.
    \end{equation}

    下面构造它们的笛卡尔积
    $X = \prod_{i=1}^n{X_i}$
    到
    $\setN$
    的双射
    \begin{equation*}
        f: X \to \setN.
    \end{equation*}

    定义
    \begin{equation}
        \pi^{(k)}(x_1, \dots, x_{n-1}, x_n) = \begin{cases}
            \frac{1}{2}(x_1 + x_2)(x_1 + x_2 + 1) + x_2 & k = 2; \\
            \pi^{(2)}(
                \pi^{(k - 1)}(x_1, \dots, x_{n-1}),
                x_n
            ) & \text{otherwise}.
        \end{cases}
    \end{equation}
    则 $\pi^{(n)}$ 是 $\setN^n \to \setN$ 的双射
    （参见 \href{https://en.wikipedia.org/wiki/Pairing_function#Cantor_pairing_function}{Cantor pairing function}）.
\end{proof}
% problem 6 (end)

% section 集合与映射 (end)
